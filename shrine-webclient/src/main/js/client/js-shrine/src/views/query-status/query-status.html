<template>
    <div style="height: 100%; overflow: auto" class="query-status">
        <div style="display: flex" if.one-way="status.query.queryName">
            <div style="flex:1">Status of Query ${status.query.queryName} at Each Institution:</div>
            <div style="flex:1" if.one-way="status.nodes.length">Last Updated on: ${status.updated | dateTime}</div>
            <div style="flex:1" if.one-way="!status.nodes.length">Waiting on response from network...</div>
        </div>
        <br/>

        <node-status repeat.for="node of status.nodes" result.one-way="node">
        </node-status>
        
        <span if.one-way="status.nodes.length">
            <br/>
            <span>Completed query counts and breakdowns are shown below:</span>
            <br/>
        </span>
        
        <node-result repeat.for="node of status.nodes" result.one-way="node" query-name.one-way="status.query.queryName">
        </node-result>
    </div>
</template> 