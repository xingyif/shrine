<template>
    <require from="./node-result/node-result"></require>
    <require from="common/converters/datetime.value.converter"></require>
    <require from="./node-status/node-status"></require>
    <div style="height: 100%; overflow: auto">
        <div style="display: flex">
            <div style="flex:1">Status of Query: ${status.query.queryName}</div>
            <div style="flex:1">Last Updated: ${status.updated | dateTime}</div>
        </div>
        <br/>

        <node-status repeat.for="node of status.nodes" result.one-way="node">
        </node-status>
        
        <span if.one-way="status.nodes">
            <br/>
            <div>Query results are shown below</div>
            <span>**************************************************************************</span>
            <br/>
        </span>
        
        <node-result repeat.for="node of status.nodes" result.one-way="node" query-name.one-way="status.query.queryName">
        </node-result>
    </div>
</template> 