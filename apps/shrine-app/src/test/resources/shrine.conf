shrine {
  problem {
    problemHandler = "net.shrine.problem.NoOpProblemHandler$"
  }

  ontEndpoint {
    url = "http://example.com:9090/i2b2/rest/OntologyService/"
    acceptAllCerts = true
    timeout {
      seconds = 1
    }
  }

  keystore {
    file = "shrine.keystore"
    password = "justatestpassword"
    keyStoreType = "JKS"
    trustModelIsHub = true
    isHub = false
    aliasMap = {
      alias = "shrine-test-ca"
    }
  }

  queryEntryPoint {
    broadcasterServiceEndpoint {
      url = "https://localhost:8080/shrine/testing"
    }
    audit {
      collectQepAudit = false

      database {
        slickProfileClassName = "slick.driver.H2Driver$"
        createTablesOnStart = true //for testing with H2 in memory, when not running unit tests. Set to false normally

        dataSourceFrom = "testDataSource" //Can be JNDI or testDataSource . Use testDataSource for tests, JNDI everywhere else

        testDataSource {
          driverClassName = "org.h2.Driver"
          url = "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1" //H2 embedded in-memory for unit tests ;TRACE_LEVEL_SYSTEM_OUT=2 for H2's trace
        }
      }
    }
    trustModelIsHub = true

    authenticationType = "pm" //can be none, pm, or ecommons

    authorizationType = "shrine-steward" //can be none, shrine-steward, or hms-steward
    shrineSteward {
      qepUserName = "qep"
      qepPassword = "trustme"
      stewardBaseUrl = "https://localhost:6443"
    }

  }

  adapter {
    create = true
    audit {
      collectQepAudit = false

      database {
        slickProfileClassName = "slick.driver.H2Driver$"
        createTablesOnStart = true //for testing with H2 in memory, when not running unit tests. Set to false normally

        dataSourceFrom = "testDataSource" //Can be JNDI or testDataSource . Use testDataSource for tests, JNDI everywhere else

        testDataSource {
          driverClassName = "org.h2.Driver"
          url = "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1" //H2 embedded in-memory for unit tests ;TRACE_LEVEL_SYSTEM_OUT=2 for H2's trace
        }
      }
    }
  }

  squerylDataSource {
    database {
      dataSourceFrom = "testDataSource" //Can be JNDI or testDataSource . Use testDataSource for tests, JNDI everywhere else
      testDataSource {
        driverClassName = "org.h2.Driver"
        url = "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1" //H2 embedded in-memory for unit tests ;TRACE_LEVEL_SYSTEM_OUT=2 for H2's trace
      }
    }
  }
//  squerylDataSource {
//    database {
//      dataSourceFrom = "testDataSource" //Can be JNDI or testDataSource . Use testDataSource for tests, JNDI everywhere else
//
//      testDataSource {
//        driverClassName = "org.h2.Driver"
//        url = "jdbc:h2:mem:test;DB_CLOSE_DELAY=-1" //H2 embedded in-memory for unit tests ;TRACE_LEVEL_SYSTEM_OUT=2 for H2's trace
//      }
//    }
//  }

}